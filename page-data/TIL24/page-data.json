{"componentChunkName":"component---src-templates-post-template-tsx","path":"/TIL24/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>What is storyBook?</h2>\n<ul>\n<li>다양한 방식으로 사용되고 있는 UI 컴포넌트 도구이다. 공식 홈페이지에서는 <code class=\"language-text\">비즈니스 로직과 컨텍스트로부터 UI 컴포넌트를 독립적으로 분리하여 만들 수 있도록</code> 도와준다고 나와 있다.</li>\n</ul>\n<h2>Why is storyBook?</h2>\n<ul>\n<li>개발하다 보면 특정 UI 컴포넌트에 여러 상태 의존성과 환경변수가 걸려있고 그 상황 가운데서 온전히 뷰에 집중하지 못하고 컴포넌트에 의존성을 파악하기가 쉽지 않다. <code class=\"language-text\">storyBook</code>은 이러한 문제를 해결할 수 있도록 도와준다. 여러 상태의 의존성과 환경을 분리시켜 독립적으로 상태를 표현하는 게 가능하고 온전히 뷰에만 집중할 수 있게 되고 테스트도 가능하며 즉 외부 환경들을 신경 쓰지 않고 UI 컴포넌트에 집중해서 개발을 진행할 수 있다.</li>\n</ul>\n<h2>Start</h2>\n<p>CRA(Create React App)를 통해 프로젝트 생성 <em>//<a href=\"https://storybook.js.org/tutorials/intro-to-storybook/react/ko/get-started/\" target=\"_blank\" rel=\"nofollow\">공식 홈페이지</a> 참고해서 예제 작성함</em></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// cra 프로젝트 생성</span>\nnpx create<span class=\"token operator\">-</span>react<span class=\"token operator\">-</span><span class=\"token function\">app</span> <span class=\"token punctuation\">(</span>프로젝트 이름<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 해당 프로젝트 디렉토리 이동</span>\n<span class=\"token function\">cd</span> <span class=\"token punctuation\">(</span>프로젝트 이름<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// storybook cli 설치</span>\nnpx <span class=\"token operator\">-</span>p @stroybook<span class=\"token operator\">/</span>cli sb init\n</code></pre></div>\n<p>테스트 명령어를 입력해서 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">yarn test <span class=\"token operator\">--</span>watchAll\n<span class=\"token comment\">// 테스트 성공 실패 여부를 확인할 수 있다.</span></code></pre></div>\n<h3><em>오류</em></h3>\n<p>나 같은 경우 테스트 명령어를 입력하면 이러한 오류가 나왔다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">There might be a problem <span class=\"token keyword\">with</span> the project dependency tree<span class=\"token punctuation\">.</span>\nIt is likely not a bug <span class=\"token keyword\">in</span> Create React App<span class=\"token punctuation\">,</span> but something you need to fix locally<span class=\"token punctuation\">.</span>\n\nThe react<span class=\"token operator\">-</span>scripts <span class=\"token keyword\">package</span> provided by Create React App requires a dependency<span class=\"token operator\">:</span>\n\n  <span class=\"token string\">\"babel-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"8.1.0\"</span>\n\nDon't <span class=\"token keyword\">try</span> to install it manually<span class=\"token operator\">:</span> your <span class=\"token keyword\">package</span> manager does it automatically<span class=\"token punctuation\">.</span>\nHowever<span class=\"token punctuation\">,</span> a different version <span class=\"token keyword\">of</span> babel<span class=\"token operator\">-</span>loader was detected higher up <span class=\"token keyword\">in</span> the tree<span class=\"token operator\">:</span>\n\n  <span class=\"token operator\">/</span>Users<span class=\"token operator\">/</span>leesak<span class=\"token operator\">/</span>Desktop<span class=\"token operator\">/</span>test<span class=\"token operator\">-</span>app<span class=\"token operator\">/</span>node_modules<span class=\"token operator\">/</span>babel<span class=\"token operator\">-</span><span class=\"token function\">loader</span> <span class=\"token punctuation\">(</span>version<span class=\"token operator\">:</span> <span class=\"token number\">8.2</span><span class=\"token number\">.3</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<ul>\n<li><code class=\"language-text\">babel-loader</code> 버전이 달라서 생기는 오류인데 <code class=\"language-text\">yarn.lock</code> 및 <code class=\"language-text\">package.json</code> 파일을 지우고 다시 실행해봐도 실행되지 않는다. 내가 해결한 방법은 두 가지가 있는데\n<ul>\n<li>첫 번째로 <code class=\"language-text\">yarn add babel-loader@8.1.0</code> 해 버전을 맞춰서 설치 하니깐 정상적으로 실행 된다.</li>\n<li>두 번째로 프로젝트 디렉토리에 <code class=\"language-text\">.env</code> 파일을 만들어서 <code class=\"language-text\">SKIP_PREFLIGHT_CHECK=true</code> 를 넣어주면 정상적으로 실행 된다.</li>\n</ul>\n</li>\n<li>이렇게 된다면 테스트가 잘 작동 하는것이다.</li>\n</ul>\n<p>!<img width=\"401\" alt=\"1\" src=\"https://user-images.githubusercontent.com/60437099/144621285-804970cd-ec41-4856-a402-6c90d976df82.png\"></p>\n<p>storyBook을 실행시키면 아래와 같이 실행된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">yarn storybook\n<span class=\"token comment\">// $ start-storybook -p 6006 -s public</span>\n<span class=\"token comment\">// storybook 화면이 실행된다.</span></code></pre></div>\n<img width=\"978\" alt=\"2\" src=\"https://user-images.githubusercontent.com/60437099/144621377-812acf86-8b8c-4116-8d69-950bda1d1cc7.png\">\n&gt;\n<h3>TaskBox 만들기</h3>\n<p><strong>공식 홈페이지에 나와있는걸 참고해서 만든다.</strong></p>\n<ul>\n<li><a href=\"https://github.com/chromaui/learnstorybook-code/blob/master/src/index.css\" target=\"_blank\" rel=\"nofollow\">여기서 css 코드</a>를 복사해서 <code class=\"language-text\">src/index.css</code> 파일에 붙여넣기 한다.</li>\n</ul>\n<p><strong>Asset 추가하기</strong></p>\n<ul>\n<li>예제의 의도된 디자인에 맞춰 설치한다. (폰트, 아이콘)</li>\n<li>아래와 같이 실행하면 자동으로 <code class=\"language-text\">src/asstes/(폴더)</code> 가 생성된다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">npx degit chromaui<span class=\"token operator\">/</span>learnstorybook<span class=\"token operator\">-</span>code<span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>assets<span class=\"token operator\">/</span>font src<span class=\"token operator\">/</span>assets<span class=\"token operator\">/</span>font\nnpx degit chromaui<span class=\"token operator\">/</span>learnstorybook<span class=\"token operator\">-</span>code<span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>assets<span class=\"token operator\">/</span>icon src<span class=\"token operator\">/</span>assets<span class=\"token operator\">/</span>icon</code></pre></div>","frontmatter":{"title":"storyBook 설치 및 실행","summary":"비즈니스 로직과 컨텍스트로부터 UI 컴포넌트를 독립적으로 분리하여 만들 수 있도록` 도와준다고 나와 있다","date":"2021.12.03.","categories":["TIL"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVQoz6VSyUoDQRDN/wkzSXemx7jhrnGJIiIumSUaIsHdGJdDgkQRBEHcDkYDggievHgUBQ8uiIgQRcXRJ92JMkkUFA9Fdb2qev2qqx2mSq8CxW6YKn3n3m6mSoU3FBd65CL0ykUwGMnJ2XtNlaYdPxF+NuhuJ8LV5VifGsFaZAiDlaUCs9f8ilAoYwShihKcH+0Dj1fCTg9TCJaqf1fY71HgJxJmOn14vTvH0/UJXm7PxDnia4RGZQQ8X/WFhBzUFVfOzZyUj3ec2gAeLvF8c4qDlYRQznMBjwKTkZ8VDtVVisLPh+cK+UKWQgYW+vsw0lAtlsPVadQp8sEyVYjhQr4Is+O9z+vd2FuKYTsWRSoxh9WJMBYHNEy2NgjC1fEwkrEotmbHsTkzhmR8WniDkUKFHAyWFWOqrQmRNi8iPi/i/i4M11eB45w02t6M6Y4WjHlrMdGSiUcbawpGvsgCrwYjlp9Ilp/IWS9ZuuKyOK5ROYO7JEujzmwsWZrbafFeU6VvpkrvOWE6f7t2+y5nj/P/rkNnZFlnZFdnJPlP29EZWf8ATRD0gS+kIEMAAAAASUVORK5CYII=","aspectRatio":1.7857142857142858,"src":"/static/ace76f7f662b9d0468aa85389a73818f/c019b/TIL6.png","srcSet":"/static/ace76f7f662b9d0468aa85389a73818f/a9f05/TIL6.png 200w,\n/static/ace76f7f662b9d0468aa85389a73818f/23840/TIL6.png 400w,\n/static/ace76f7f662b9d0468aa85389a73818f/c019b/TIL6.png 800w,\n/static/ace76f7f662b9d0468aa85389a73818f/00376/TIL6.png 1200w,\n/static/ace76f7f662b9d0468aa85389a73818f/776f9/TIL6.png 1202w","srcWebp":"/static/ace76f7f662b9d0468aa85389a73818f/210fa/TIL6.webp","srcSetWebp":"/static/ace76f7f662b9d0468aa85389a73818f/8444f/TIL6.webp 200w,\n/static/ace76f7f662b9d0468aa85389a73818f/42fc5/TIL6.webp 400w,\n/static/ace76f7f662b9d0468aa85389a73818f/210fa/TIL6.webp 800w,\n/static/ace76f7f662b9d0468aa85389a73818f/3058d/TIL6.webp 1200w,\n/static/ace76f7f662b9d0468aa85389a73818f/a7289/TIL6.webp 1202w","sizes":"(max-width: 800px) 100vw, 800px"}},"publicURL":"/static/ace76f7f662b9d0468aa85389a73818f/TIL6.png"}}}}]}},"pageContext":{"slug":"/TIL24/"}},"staticQueryHashes":[]}